Test  90: ❌ cat <"./test_files/infile" >"./outfiles/outfile01" 
Only in ./bash_outfiles: outfile01
mini outfiles:
cat: './mini_outfiles/*': No such file or directory
bash outfiles:
hi
hello
world
42
mini output = (hi hello world 42)
bash output = ()
mini error = ( Resetting redirection tracking state Processing redirection type=<, filename='./test_files/infile' Target command is 'cat' Marked redirection as belonging to command 'cat' Starting collection for cmd 'cat' after redir './test_files/infile' 'cat' Examining node type=>, content='./outfiles/outfile01' Stopping at > 'cat' Set redir_root to this node Processing node type=<, filename='./test_files/infile' Checking prev_redir type=CMD, filename='cat' < './test_files/infile' → 0x5a7f57ff0670 CMD 'cat' → NULL Processing redirection type=>, filename='./outfiles/outfile01' Target command is 'cat' Marked redirection as belonging to command 'cat' Starting collection for cmd 'cat' after redir './outfiles/outfile01' 'cat' 'cat' Processing node type=>, filename='./outfiles/outfile01' Checking prev_redir type=<, filename='./test_files/infile' Checking prev_redir type=CMD, filename='cat' > './outfiles/outfile01' → 0x5a7f57ff0670 CMD 'cat' → NULL Starting redirection execution for node type=< 'cat' (pipeline_context=0) Saved stdin=3, stdout=4 About to process redirection chain === REDIRECTION CHAIN START === './test_files/infile' 'cat' NO Starting chain processing for cmd 'cat' (pipeline_context=0) cat Processing redirection type=<, filename='./test_files/infile' Processing < redirection './test_files/infile', prev_result=0 Setting up redirection type=<, filename='./test_files/infile' Target command is 'cat' redir_mode_setup returned 1, error_code=0 success=1, continuing=yes Chain processing completed, final_result=1 Finished processing redirections, status=1 Redirection successful, executing command 'cat' Command execution completed with result=0)
bash error = ()

Test  92: ❌ echo hi >./outfiles/outfile01 >./outfiles/outfile02 | echo bye 
Only in ./bash_outfiles: outfile01
Only in ./bash_outfiles: outfile02
mini outfiles:
cat: './mini_outfiles/*': No such file or directory
bash outfiles:
hi
mini error = ( Appending 'hi' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Appending 'bye' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Resetting redirection tracking state Processing redirection type=>, filename='./outfiles/outfile01' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './outfiles/outfile01' 'echo' 'hi' Examining node type=>, content='./outfiles/outfile02' Stopping at > 'echo' 'hi' Set redir_root to this node Processing node type=>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='echo' > './outfiles/outfile01' → 0x6324bea25dc0 CMD 'echo' → NULL Processing redirection type=>, filename='./outfiles/outfile02' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './outfiles/outfile02' 'echo' 'hi' Examining node type=|, content='|' Stopping at | 'echo' 'hi' Processing node type=>, filename='./outfiles/outfile02' Checking prev_redir type=>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='echo' > './outfiles/outfile02' → 0x6324bea25dc0 CMD 'echo' → NULL Searching redirections for command 'echo' Skipping redirection > (different side of pipe) No matching redirection found for 'echo' Searching redirections for command 'echo' Skipping redirection > (different side of pipe) No matching redirection found for 'echo' === FINAL AST STRUCTURE === Root is PIPE CMD (echo) CMD (echo) === PIPELINE EXECUTION START === 0x6324bea26070 Left type=CMD Right type=CMD Left is direct command 'echo' Right is direct command 'echo' read_fd=3, write_fd=4 Setting up left pipe process for 'echo' Parent closed write end fd=4 Setting up right pipe process for 'echo' Parent closed read end fd=3 Waiting for left process (pid=61618) 61618 === LEFT PROCESS START === Node type=CMD, args[0]='echo' Closed read end fd=3 Redirecting stdout to pipe write end fd=4 Closed write end fd=4 after dup2 'echo' Executing command 'echo' Command execution completed with status 0 Exiting with status 0 === RIGHT PROCESS START === Node type=CMD, args[0]='echo' Redirecting stdin from pipe read end fd=3 Closed read end fd=3 after dup2 'echo' Current stdout fileno=1 stdout is NOT connected to a terminal Executing command 'echo' Command execution completed with status 0 Exiting with status 0 Left process exited with status 0 Waiting for right process (pid=61619) Right process exited with status 0 0)
bash error = ()

Test  94: ❌ echo hi | echo bye >./outfiles/outfile01 >./outfiles/outfile02 
Only in ./bash_outfiles: outfile01
mini outfiles:
bye
bash outfiles:
bye
mini error = ( Appending 'hi' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Appending 'bye' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Resetting redirection tracking state Processing redirection type=>, filename='./outfiles/outfile01' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './outfiles/outfile01' 'echo' 'bye' Examining node type=>, content='./outfiles/outfile02' Stopping at > 'echo' 'bye' Set redir_root to this node Processing node type=>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='echo' Checking prev_redir type=|, filename='|' Checking prev_redir type=CMD, filename='echo' > './outfiles/outfile01' → 0x5c0605561650 CMD 'echo' → NULL Processing redirection type=>, filename='./outfiles/outfile02' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './outfiles/outfile02' 'echo' 'bye' 'echo' 'bye' Processing node type=>, filename='./outfiles/outfile02' Checking prev_redir type=>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='echo' Checking prev_redir type=|, filename='|' Checking prev_redir type=CMD, filename='echo' > './outfiles/outfile02' → 0x5c0605561650 CMD 'echo' → NULL Searching redirections for command 'echo' No matching redirection found for 'echo' Searching redirections for command 'echo' Skipping redirection > (different side of pipe) Found matching redirection > for 'echo' (same side of pipe) === FINAL AST STRUCTURE === Root is PIPE CMD (echo) CMD (echo) === PIPELINE EXECUTION START === 0x5c06055614c0 Left type=CMD Right type=CMD Left is direct command 'echo' Right is direct command 'echo' read_fd=3, write_fd=4 Setting up left pipe process for 'echo' Parent closed write end fd=4 Setting up right pipe process for 'echo' 61712 Parent closed read end fd=3 === LEFT PROCESS START === Waiting for left process (pid=61712) Node type=CMD, args[0]='echo' Closed read end fd=3 Redirecting stdout to pipe write end fd=4 Closed write end fd=4 after dup2 'echo' Executing command 'echo' Command execution completed with status 0 Exiting with status 0 === RIGHT PROCESS START === Node type=CMD, args[0]='echo' Redirecting stdin from pipe read end fd=3 Closed read end fd=3 after dup2 'echo' Command has attached redirections === REDIRECTION CHAIN START === './outfiles/outfile02' 'echo' YES Starting chain processing for cmd 'echo' (pipeline_context=1) echo Processing redirection type=>, filename='./outfiles/outfile02' Processing > redirection './outfiles/outfile02', prev_result=0 Setting up redirection type=>, filename='./outfiles/outfile02' Target command is 'echo' redir_mode_setup returned 1, error_code=0 success=1, continuing=yes Chain processing completed, final_result=1 Finished processing redirections, status=1 Current stdout fileno=1 stdout is NOT connected to a terminal Executing command 'echo' Command execution completed with status 0 Exiting with status 0 Left process exited with status 0 Waiting for right process (pid=61713) Right process exited with status 0 0)
bash error = ()

Test  96: ❌ echo hi >./outfiles/outfile01 >./test_files/invalid_permission | echo bye 
Only in ./bash_outfiles: outfile01
mini outfiles:
cat: './mini_outfiles/*': No such file or directory
bash outfiles:
mini error = ( Appending 'hi' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Appending 'bye' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Resetting redirection tracking state Processing redirection type=>, filename='./outfiles/outfile01' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './outfiles/outfile01' 'echo' 'hi' Examining node type=>, content='./test_files/invalid_permission' Stopping at > 'echo' 'hi' Set redir_root to this node Processing node type=>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='echo' > './outfiles/outfile01' → 0x57c9fff16bb0 CMD 'echo' → NULL Processing redirection type=>, filename='./test_files/invalid_permission' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './test_files/invalid_permission' 'echo' 'hi' Examining node type=|, content='|' Stopping at | 'echo' 'hi' Processing node type=>, filename='./test_files/invalid_permission' Checking prev_redir type=>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='echo' > './test_files/invalid_permission' → 0x57c9fff16bb0 CMD 'echo' → NULL Searching redirections for command 'echo' Skipping redirection > (different side of pipe) No matching redirection found for 'echo' Searching redirections for command 'echo' Skipping redirection > (different side of pipe) No matching redirection found for 'echo' === FINAL AST STRUCTURE === Root is PIPE CMD (echo) CMD (echo) === PIPELINE EXECUTION START === 0x57c9fff16e80 Left type=CMD Right type=CMD Left is direct command 'echo' Right is direct command 'echo' read_fd=3, write_fd=4 Setting up left pipe process for 'echo' Parent closed write end fd=4 Setting up right pipe process for 'echo' Parent closed read end fd=3 Waiting for left process (pid=61806) 61806 === LEFT PROCESS START === Node type=CMD, args[0]='echo' Closed read end fd=3 Redirecting stdout to pipe write end fd=4 Closed write end fd=4 after dup2 'echo' Executing command 'echo' Command execution completed with status 0 Exiting with status 0 === RIGHT PROCESS START === Node type=CMD, args[0]='echo' Redirecting stdin from pipe read end fd=3 Closed read end fd=3 after dup2 'echo' Current stdout fileno=1 stdout is NOT connected to a terminal Executing command 'echo' Command execution completed with status 0 Exiting with status 0 Left process exited with status 0 Waiting for right process (pid=61807) Right process exited with status 0 0)
bash error = ( Permission denied)

Test 100: ❌ echo hi | >./outfiles/outfile01 echo bye >./test_files/invalid_permission 
Only in ./bash_outfiles: outfile01
mini outfiles:
cat: './mini_outfiles/*': No such file or directory
bash outfiles:
mini error = ( Appending 'hi' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Resetting redirection tracking state Processing redirection type=>, filename='./outfiles/outfile01' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './outfiles/outfile01' 'echo' 'hi' Examining node type=ARGS, content='echo' 'echo' Appending 'echo' to node type=CMD 2 'echo' 'hi' Successfully created new args array with 3 elements 3) Examining node type=ARGS, content='bye' 'bye' Appending 'bye' to node type=CMD 3 'echo' 'hi' 'echo' Successfully created new args array with 4 elements 4) Examining node type=>, content='./test_files/invalid_permission' Stopping at > 'echo' 'hi' 'echo' 'bye' Set redir_root to this node Processing node type=>, filename='./outfiles/outfile01' Checking prev_redir type=|, filename='|' Checking prev_redir type=CMD, filename='echo' > './outfiles/outfile01' → 0x5d587ae8ab30 CMD 'echo' → NULL Processing redirection type=>, filename='./test_files/invalid_permission' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './test_files/invalid_permission' 'echo' 'hi' 'echo' 'bye' 'echo' 'hi' 'echo' 'bye' Processing node type=>, filename='./test_files/invalid_permission' Checking prev_redir type=ARGS, filename='bye' Checking prev_redir type=ARGS, filename='echo' Checking prev_redir type=>, filename='./outfiles/outfile01' Checking prev_redir type=|, filename='|' Checking prev_redir type=CMD, filename='echo' > './test_files/invalid_permission' → 0x5d587ae8ab30 CMD 'echo' → NULL Starting redirection execution for node type=> 'echo' (pipeline_context=0) Saved stdin=3, stdout=4 About to process redirection chain === REDIRECTION CHAIN START === './outfiles/outfile01' 'echo' NO Starting chain processing for cmd 'echo' (pipeline_context=0) echo Processing redirection type=>, filename='./outfiles/outfile01' Processing > redirection './outfiles/outfile01', prev_result=0 Setting up redirection type=>, filename='./outfiles/outfile01' No command found for redirection success=0, continuing=no Setting any_output_error=1 for failed > Breaking on output redirection error Returning 0 due to output redirection error Chain processing completed, final_result=0 Finished processing redirections, status=0 Redirection failed, cleaning up and returning error_code=1 NOT executing command due to redirection failure)
bash error = ( Permission denied)
Test 101: ❌ echo hi | echo bye >./test_files/invalid_permission >./outfiles/outfile01 
Only in ./mini_outfiles: outfile01
mini outfiles:
bye
bash outfiles:
cat: './bash_outfiles/*': No such file or directory
mini exit code = 0
bash exit code = 1
mini error = ( Appending 'hi' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Appending 'bye' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Resetting redirection tracking state Processing redirection type=>, filename='./test_files/invalid_permission' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './test_files/invalid_permission' 'echo' 'bye' Examining node type=>, content='./outfiles/outfile01' Stopping at > 'echo' 'bye' Set redir_root to this node Processing node type=>, filename='./test_files/invalid_permission' Checking prev_redir type=CMD, filename='echo' Checking prev_redir type=|, filename='|' Checking prev_redir type=CMD, filename='echo' > './test_files/invalid_permission' → 0x5e7692a6b2e0 CMD 'echo' → NULL Processing redirection type=>, filename='./outfiles/outfile01' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './outfiles/outfile01' 'echo' 'bye' 'echo' 'bye' Processing node type=>, filename='./outfiles/outfile01' Checking prev_redir type=>, filename='./test_files/invalid_permission' Checking prev_redir type=CMD, filename='echo' Checking prev_redir type=|, filename='|' Checking prev_redir type=CMD, filename='echo' > './outfiles/outfile01' → 0x5e7692a6b2e0 CMD 'echo' → NULL Searching redirections for command 'echo' No matching redirection found for 'echo' Searching redirections for command 'echo' Skipping redirection > (different side of pipe) Found matching redirection > for 'echo' (same side of pipe) === FINAL AST STRUCTURE === Root is PIPE CMD (echo) CMD (echo) === PIPELINE EXECUTION START === 0x5e7692a6b150 Left type=CMD Right type=CMD Left is direct command 'echo' Right is direct command 'echo' read_fd=3, write_fd=4 Setting up left pipe process for 'echo' Parent closed write end fd=4 Setting up right pipe process for 'echo' 62034 === LEFT PROCESS START === Node type=CMD, args[0]='echo' Closed read end fd=3 Redirecting stdout to pipe write end fd=4 Closed write end fd=4 after dup2 'echo' Executing command 'echo' Command execution completed with status 0 Exiting with status 0 === RIGHT PROCESS START === Node type=CMD, args[0]='echo' Redirecting stdin from pipe read end fd=3 Closed read end fd=3 after dup2 'echo' Command has attached redirections === REDIRECTION CHAIN START === './outfiles/outfile01' 'echo' YES Starting chain processing for cmd 'echo' (pipeline_context=1) echo Processing redirection type=>, filename='./outfiles/outfile01' Processing > redirection './outfiles/outfile01', prev_result=0 Setting up redirection type=>, filename='./outfiles/outfile01' Target command is 'echo' redir_mode_setup returned 1, error_code=0 success=1, continuing=yes Chain processing completed, final_result=1 Finished processing redirections, status=1 Current stdout fileno=1 stdout is NOT connected to a terminal Executing command 'echo' Command execution completed with status 0 Exiting with status 0 Parent closed read end fd=3 Waiting for left process (pid=62034) Left process exited with status 0 Waiting for right process (pid=62035) Right process exited with status 0 0)
bash error = ( Permission denied)
Test 102: ❌ cat <"./test_files/infile" >./test_files/invalid_permission 
mini output = (hi hello world 42)
bash output = ()
mini exit code = 0
bash exit code = 1
mini error = ( Resetting redirection tracking state Processing redirection type=<, filename='./test_files/infile' Target command is 'cat' Marked redirection as belonging to command 'cat' Starting collection for cmd 'cat' after redir './test_files/infile' 'cat' Examining node type=>, content='./test_files/invalid_permission' Stopping at > 'cat' Set redir_root to this node Processing node type=<, filename='./test_files/infile' Checking prev_redir type=CMD, filename='cat' < './test_files/infile' → 0x637521bcf610 CMD 'cat' → NULL Processing redirection type=>, filename='./test_files/invalid_permission' Target command is 'cat' Marked redirection as belonging to command 'cat' Starting collection for cmd 'cat' after redir './test_files/invalid_permission' 'cat' 'cat' Processing node type=>, filename='./test_files/invalid_permission' Checking prev_redir type=<, filename='./test_files/infile' Checking prev_redir type=CMD, filename='cat' > './test_files/invalid_permission' → 0x637521bcf610 CMD 'cat' → NULL Starting redirection execution for node type=< 'cat' (pipeline_context=0) Saved stdin=3, stdout=4 About to process redirection chain === REDIRECTION CHAIN START === './test_files/infile' 'cat' NO Starting chain processing for cmd 'cat' (pipeline_context=0) cat Processing redirection type=<, filename='./test_files/infile' Processing < redirection './test_files/infile', prev_result=0 Setting up redirection type=<, filename='./test_files/infile' Target command is 'cat' redir_mode_setup returned 1, error_code=0 success=1, continuing=yes Chain processing completed, final_result=1 Finished processing redirections, status=1 Redirection successful, executing command 'cat' Command execution completed with result=0)
bash error = ( Permission denied)

Test 105: ❌ cat >./outfiles/outfile01 <missing 
mini exit code =
bash exit code = 1
mini error = ( Resetting redirection tracking state Processing redirection type=>, filename='./outfiles/outfile01' Target command is 'cat' Marked redirection as belonging to command 'cat' Starting collection for cmd 'cat' after redir './outfiles/outfile01' 'cat' Examining node type=<, content='missing' Stopping at < 'cat' Set redir_root to this node Processing node type=>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='cat' > './outfiles/outfile01' → 0x5e2848f0d880 CMD 'cat' → NULL Processing redirection type=<, filename='missing' Target command is 'cat' Marked redirection as belonging to command 'cat' Starting collection for cmd 'cat' after redir 'missing' 'cat' 'cat' Processing node type=<, filename='missing' Checking prev_redir type=>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='cat' < 'missing' → 0x5e2848f0d880 CMD 'cat' → NULL Starting redirection execution for node type=> 'cat' (pipeline_context=0) Saved stdin=3, stdout=4 About to process redirection chain === REDIRECTION CHAIN START === './outfiles/outfile01' 'cat' NO Starting chain processing for cmd 'cat' (pipeline_context=0) cat Processing redirection type=>, filename='./outfiles/outfile01' Processing > redirection './outfiles/outfile01', prev_result=0 Setting up redirection type=>, filename='./outfiles/outfile01' Target command is 'cat' redir_mode_setup returned 1, error_code=0 success=1, continuing=yes Chain processing completed, final_result=1 Finished processing redirections, status=1 Redirection successful, executing command 'cat' Command execution completed with result=0)
bash error = ( No such file or directory)

Test 122: ❌ echo hi >>./outfiles/outfile01 >>./outfiles/outfile02 | echo bye 
Only in ./bash_outfiles: outfile01
Only in ./bash_outfiles: outfile02
mini outfiles:
cat: './mini_outfiles/*': No such file or directory
bash outfiles:
hi
mini error = ( Appending 'hi' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Appending 'bye' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Resetting redirection tracking state Processing redirection type=>>, filename='./outfiles/outfile01' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './outfiles/outfile01' 'echo' 'hi' Examining node type=>>, content='./outfiles/outfile02' Stopping at >> 'echo' 'hi' Set redir_root to this node Processing node type=>>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='echo' >> './outfiles/outfile01' → 0x5dfd9f6e7160 CMD 'echo' → NULL Processing redirection type=>>, filename='./outfiles/outfile02' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './outfiles/outfile02' 'echo' 'hi' Examining node type=|, content='|' Stopping at | 'echo' 'hi' Processing node type=>>, filename='./outfiles/outfile02' Checking prev_redir type=>>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='echo' >> './outfiles/outfile02' → 0x5dfd9f6e7160 CMD 'echo' → NULL Searching redirections for command 'echo' Skipping redirection >> (different side of pipe) No matching redirection found for 'echo' Searching redirections for command 'echo' Skipping redirection >> (different side of pipe) No matching redirection found for 'echo' === FINAL AST STRUCTURE === Root is PIPE CMD (echo) CMD (echo) === PIPELINE EXECUTION START === 0x5dfd9f6e7410 Left type=CMD Right type=CMD Left is direct command 'echo' Right is direct command 'echo' read_fd=3, write_fd=4 Setting up left pipe process for 'echo' Parent closed write end fd=4 Setting up right pipe process for 'echo' Parent closed read end fd=3 Waiting for left process (pid=62874) === RIGHT PROCESS START === 62874 === LEFT PROCESS START === Node type=CMD, args[0]='echo' Node type=CMD, args[0]='echo' Redirecting stdin from pipe read end fd=3 Closed read end fd=3 Closed read end fd=3 after dup2 Redirecting stdout to pipe write end fd=4 'echo' Current stdout fileno=1 Closed write end fd=4 after dup2 'echo' stdout is NOT connected to a terminal Executing command 'echo' Executing command 'echo' Command execution completed with status 0 Command execution completed with status 0 Exiting with status 0 Exiting with status 0 Left process exited with status 0 Waiting for right process (pid=62875) Right process exited with status 0 0)
bash error = ()

Test 124: ❌ echo hi | echo bye >>./outfiles/outfile01 >>./outfiles/outfile02 
Only in ./bash_outfiles: outfile01
mini outfiles:
bye
bash outfiles:
bye
mini error = ( Appending 'hi' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Appending 'bye' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Resetting redirection tracking state Processing redirection type=>>, filename='./outfiles/outfile01' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './outfiles/outfile01' 'echo' 'bye' Examining node type=>>, content='./outfiles/outfile02' Stopping at >> 'echo' 'bye' Set redir_root to this node Processing node type=>>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='echo' Checking prev_redir type=|, filename='|' Checking prev_redir type=CMD, filename='echo' >> './outfiles/outfile01' → 0x5d7c89292950 CMD 'echo' → NULL Processing redirection type=>>, filename='./outfiles/outfile02' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './outfiles/outfile02' 'echo' 'bye' 'echo' 'bye' Processing node type=>>, filename='./outfiles/outfile02' Checking prev_redir type=>>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='echo' Checking prev_redir type=|, filename='|' Checking prev_redir type=CMD, filename='echo' >> './outfiles/outfile02' → 0x5d7c89292950 CMD 'echo' → NULL Searching redirections for command 'echo' No matching redirection found for 'echo' Searching redirections for command 'echo' Skipping redirection >> (different side of pipe) Found matching redirection >> for 'echo' (same side of pipe) === FINAL AST STRUCTURE === Root is PIPE CMD (echo) CMD (echo) === PIPELINE EXECUTION START === 0x5d7c892927c0 Left type=CMD Right type=CMD Left is direct command 'echo' Right is direct command 'echo' read_fd=3, write_fd=4 Setting up left pipe process for 'echo' Parent closed write end fd=4 Setting up right pipe process for 'echo' 62968 === LEFT PROCESS START === Parent closed read end fd=3 Waiting for left process (pid=62968) Node type=CMD, args[0]='echo' Closed read end fd=3 Redirecting stdout to pipe write end fd=4 Closed write end fd=4 after dup2 'echo' Executing command 'echo' Command execution completed with status 0 Exiting with status 0 === RIGHT PROCESS START === Node type=CMD, args[0]='echo' Redirecting stdin from pipe read end fd=3 Closed read end fd=3 after dup2 'echo' Command has attached redirections === REDIRECTION CHAIN START === './outfiles/outfile02' 'echo' YES Starting chain processing for cmd 'echo' (pipeline_context=1) echo Processing redirection type=>>, filename='./outfiles/outfile02' Processing >> redirection './outfiles/outfile02', prev_result=0 Setting up redirection type=>>, filename='./outfiles/outfile02' Target command is 'echo' redir_mode_setup returned 1, error_code=0 success=1, continuing=yes Chain processing completed, final_result=1 Finished processing redirections, status=1 Current stdout fileno=1 stdout is NOT connected to a terminal Executing command 'echo' Command execution completed with status 0 Exiting with status 0 Left process exited with status 0 Waiting for right process (pid=62969) Right process exited with status 0 0)
bash error = ( Broken pipe)

Test 129: ❌ echo hi | echo >>./outfiles/outfile01 bye >./test_files/invalid_permission 
Only in ./bash_outfiles: outfile01
mini outfiles:
cat: './mini_outfiles/*': No such file or directory
bash outfiles:
mini error = ( Appending 'hi' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Resetting redirection tracking state Processing redirection type=>>, filename='./outfiles/outfile01' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './outfiles/outfile01' 'echo' Examining node type=ARGS, content='bye' 'bye' Appending 'bye' to node type=CMD 1 'echo' Successfully created new args array with 2 elements 2) Examining node type=>, content='./test_files/invalid_permission' Stopping at > 'echo' 'bye' Set redir_root to this node Processing node type=>>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='echo' Checking prev_redir type=|, filename='|' Checking prev_redir type=CMD, filename='echo' >> './outfiles/outfile01' → 0x609e11a490a0 CMD 'echo' → NULL Processing redirection type=>, filename='./test_files/invalid_permission' Target command is 'echo' Marked redirection as belonging to command 'echo' Starting collection for cmd 'echo' after redir './test_files/invalid_permission' 'echo' 'bye' 'echo' 'bye' Processing node type=>, filename='./test_files/invalid_permission' Checking prev_redir type=ARGS, filename='bye' Checking prev_redir type=>>, filename='./outfiles/outfile01' Checking prev_redir type=CMD, filename='echo' Checking prev_redir type=|, filename='|' Checking prev_redir type=CMD, filename='echo' > './test_files/invalid_permission' → 0x609e11a490a0 CMD 'echo' → NULL Searching redirections for command 'echo' No matching redirection found for 'echo' Searching redirections for command 'echo' Skipping redirection >> (different side of pipe) Found matching redirection > for 'echo' (same side of pipe) === FINAL AST STRUCTURE === Root is PIPE CMD (echo) CMD (echo) === PIPELINE EXECUTION START === 0x609e11a48f10 Left type=CMD Right type=CMD Left is direct command 'echo' Right is direct command 'echo' read_fd=3, write_fd=4 Setting up left pipe process for 'echo' Parent closed write end fd=4 Setting up right pipe process for 'echo' Parent closed read end fd=3 Waiting for left process (pid=63200) === RIGHT PROCESS START === Node type=CMD, args[0]='echo' Redirecting stdin from pipe read end fd=3 Closed read end fd=3 after dup2 'echo' Command has attached redirections === REDIRECTION CHAIN START === './test_files/invalid_permission' 'echo' YES Starting chain processing for cmd 'echo' (pipeline_context=1) echo Processing redirection type=>, filename='./test_files/invalid_permission' Processing > redirection './test_files/invalid_permission', prev_result=0 Setting up redirection type=>, filename='./test_files/invalid_permission' Target command is 'echo' 63200 === LEFT PROCESS START === Node type=CMD, args[0]='echo' Closed read end fd=3 Redirecting stdout to pipe write end fd=4 Closed write end fd=4 after dup2 'echo' Executing command 'echo' enied redir_mode_setup returned 0, error_code=1 success=0, continuing=no Command execution completed with status 0 Setting any_output_error=1 for failed > Exiting with status 0 Breaking on output redirection error Returning 0 due to output redirection error Chain processing completed, final_result=0 Finished processing redirections, status=0 Attached redirection failed, error_code=1 Exiting with status 1 Left process exited with status 0 Waiting for right process (pid=63201) Right process exited with status 1 1)
bash error = ( Permission denied)



130/146

